# 牛客 操作系统-2

运行状态到就绪状态一般有两种情况：1.时间片用完后，不得不让出虚拟机。2.高优先级进程就绪时，让高优先级进程先执行。

(1) 就绪→执行 处于就绪状态的进程，当进程调度程序为之分配了处理机后，该进程便由就绪状态转变成执行状态。

(2) 执行→就绪 处于执行状态的进程在其执行过程中，因分配给它的一个时间片已用完而不得不让出处理机，于是进程从执行状态转变成就绪状态。

(3) 执行→阻塞 正在执行的进程因等待某种事件发生而无法继续执行时，便从执行状态变成阻塞状态。

(4) 阻塞→就绪 处于阻塞状态的进程，若其等待的事件已经发生，于是进程由阻塞状态转变为就绪状态。

每进程所需减一，3-1。4-1。5-1。的和为阈值达到不互锁的公共资源为一，加上此公共资源，所有进程可得到满足再加一 

如果系统只有用户态线程，则线程对操作系统是不可见的，操作系统只能调度进程； 如果系统中有内核态线程，则操作系统可以按线程进行调度；

常用的磁盘调度算法有以下四种：

- **先来先服务算法**(FCFS)，根据进程请求访问磁盘的先后顺序进行调度，优点是公平。
- **最短寻道时间优先算法**(SSTF)，选择调度处理的磁道是与当前磁头所在磁道距离最近的磁道，以使每次的寻找时间最短，这种会产生“**饥饿**”现象，**即距离当前磁道较远的磁道号长期得不到服务**。
- **扫描算法**(SCAN)，在磁头当前移动方向上选择与磁头所在磁道最近的请求作为下一次服务的对象，该算法对最近扫描过的区域不公平。
- **循环扫描算法**(CSCAN)，在扫描基础上规定磁头单向来提供服务，回返时直接快速移动至起始端而不服务任何请求。

虚拟存储器是用户能作为可编址内存对待的虚拟存储空间，它使用户逻辑存储器与物理存储器分离，是操作系统给用户提供一个比真实内存空间大得多的地址空间。 

所以物质基础是二级存储器结构（辅存）、动态地址转换机构（DAT）、主存 

而联想存储器是不按照地址，按照内容的特质进行存取的存储器

总线按功能和规范可分为五大类型:

- 数据总线(Data Bus):在CPU与RAM之间来回传送需要处理或是需要储存的数据。 
- 地址总线(Address Bus):用来指定在RAM(Random Access Memory)之中储存的数据的地址。 
- 控制总线(Control Bus):将微处理器控制单元(Control Unit)的信号，传送到周边设备，一般常见的为 USB Bus和1394 Bus。 
- 扩展总线(Expansion Bus):可连接扩展槽和电脑。 
- 局部总线(Local Bus):取代更高速数据传输的扩展总线。



使用逻辑设备名：1.增加设备分配的灵活性 2.易于实现I/O重定向

缺页中断调入新页面，肯定要修改页表项和分配页框，所以Ⅰ、Ⅲ可能发生，同时内存没有页面，需要从外存读入，会发生磁盘I/O。

Ⅰ、CPU的时钟频率也就是CPU主频率。一般说来，一个时钟周期内完成的指令数是固定的，所以主频越高，CPU的速度也就快，程序的执行时间就越短。 Ⅱ、数据在功能部件之间传送的路径称为数据通路，数据通路的功能是实现CPU内部的运算器和寄存器以及寄存器之间的数据交换。优化数据通路结构，可以有效提高计算机系统的吞吐量，从而加快程序的执行。 Ⅲ、计算机程序需要先转化成机器指令序列才能最终得到执行，通过对程序进行编译优化可以得到更优的指令序列，从而使得程序的执行时间也越短。

虚拟存储的基本原理是：在程序装入时**不必将其全部读到内存**，而只需将当前需要执行的部分页或段读到内存，就可让程序开始执行。在程序执行过程中，如果需执行的指令或访问的数据尚未在内存，则由处理器通知操作系统将相应的页或段调入到内存，然后继续执行程序。另一方面，操作系统将内存中暂时不使用的页或段**调出保存在外存上**，从而腾出空间存放将要调入的页或段。

因为程序并发没有机制去控制资源的共享，所以可能出现数据错乱，也就不可再现了 

而进程并发，有同步机制，可保证资源共享时，数据的正确性，所以可再现。 

但两者都因为并发，需要共享cpu和资源，所以失去了自身的封闭性。

