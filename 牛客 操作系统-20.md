# 牛客 操作系统-20

进程的三种基本状态： 就绪(Ready)状态 当进程已分配到除CPU 以外的所有必要的资源，只要获得处理机便可立即执行，这时的进程状态称为就绪状态。 执行（Running）状态 当进程已获得处理机，其程序正在处理机上执行，此时的进程状态称为执行状态。 阻塞(Blocked)状态 正在执行的进程，由于等待某个事件发生而无法执行时，便放弃处理机而处于阻塞状态搜索。引起进程阻塞的事件可有多种，例如，等待I/O完成、申请缓冲区不能满足、等待信件(信号)等。

存储周期：连续启动两次读或写操作所需最小的间隔时间。
存取时间：指的是CPU读或写内存内数据的过程时间。
存储时间：属于存取时间的存操作数据的过程时间。（注意和存取时间的区分）
访问周期：存储器进行一次“读”或“写”操作所需的时间间隔（注意和存储时间的区分）。

中断类型分为如下两大类：
一、强迫性中断：正在运行的程序所不期望的，来自硬件故障或外部请求。
1、I/O 中断：来自外部设备通道；
2、程序性中断：运行程序本身的中断，如 溢出、缺页中断、缺段中断、地址越界。
3、时钟中断
4、控制台中断
5、硬件故障

二、自愿性中断：用户在编程时要求操作系统提供的服务，使用访管指令或系统调用使中断发生。也称为访管中断。包括执行I/O，创建进程，分配内存，信号量操作，发送/接收消息。

文件的逻辑结构是用户可见结构。逻辑文件从结构上分成二种形式：
 一种是无结构的流式文件，是指对文件内信息不再划分单位，它是依次的一串字符流构成的文件。
一种是有结构的记录式文件, 是用户把文件内的信息按逻辑上独立的含义划分信息单位，每个单位称为一个逻辑记录（简称记录）。所有记录通常都是描述一个实体集的，有着相同或不同数目的数据项，记录的长度可分为定长和不定长记录两类

最大文件：
前面直接指向12个数据块，一级间接块最大为block size / 4，block size就是数据块的大小，因为一个索引是4个字节，所以除以4，这样计算下来，最大的文件可以使用的总块数为:12 + (block size/4) + (block size/4)^2 + (block size/4)^3，如果block size大小为4K，则为(12 + 2^10 + 2^20 + 2^30) * 2^12 约等于4T。

操作系统的特征：并发，共享，虚拟和异步
并发:计算机中存在多个运行的程序，需要OS管理和调度。

多个应用程序交替执行，需要知道所有运行的程序当前的执行的位置，当前正在执行的是哪一个应用，如果应用之间有切换的时候，切换到下一个应用的时候，它上次执行到什么位置，这次就从什么时候开始。当时的状态是什么样子，都需要操作系统来维护。

共享: “同时”共享 和 互斥共享

多个应用并发执行的时候，宏观上要体现出它们在同时访问资源的情况，而微观上要实现它们的互斥访问。比如说我们说到的内存，两个应用同时访问内存，那这个时候，每个应用需要知道它访问的是哪一个，另一个应用访问的是哪一个，他们俩之间不能访问出错，其中一个需要保护的内存资源，不能让另外一个应用去访问。在微观上需要对它们做很好的隔离，因为在数据总线上任何时刻只有一个应用去访问存储单元，这就是所说的微观上的互斥。

虚拟:利用多道程序设计技术(程序的交替运行)，让每个用户都觉得有一个计算机专门为他服务。

操作系统在每个应用执行的时候，这种交替执行的交替频率特别高，让用户在应用的时候感觉不太出来这台机器还有其他用户在用，当然负载大到一定程度，用户是可以感觉到的。

异步:1.程序的执行不是一贯到底的，而是走走停停，向前推进的速度不可预知。2.只要运行的环境相同，OS需要保证程序运行的结果也要相同。

如果说某个应用就是需要知道跟时间相关的这种走走停停的信息，也是可以在操作系统的支持之下，发现这种时间上的差异的。